const t={fediact_homeinstance:null,fediact_alert:!1,fediact_mode:"blacklist",fediact_whitelist:null,fediact_blacklist:null,fediact_target:"_self",fediact_autoaction:!0,fediact_showfollows:!0,fediact_redirects:!0,fediact_enabledelay:!0,fediact_hidemuted:!1,fediact_runifloggedin:!1,fediact_showtoot:!0};var browser,chrome,c;const i=!0,a="[FediAct]";function d(t){i&&console.log(a+" "+t)}function n(){async function i(){c.fediact_homeinstance=$("input#homeinstance").val().trim(),c.fediact_alert=$("input#alert").is(":checked"),c.fediact_mode=$("select#mode").val(),c.fediact_whitelist=$("textarea#whitelist_content").val(),c.fediact_blacklist=$("textarea#blacklist_content").val(),c.fediact_target=$("select#target").val(),c.fediact_autoaction=$("input#autoaction").is(":checked"),c.fediact_showfollows=$("input#showfollows").is(":checked"),c.fediact_redirects=$("input#redirects").is(":checked"),c.fediact_enabledelay=$("input#delay").is(":checked"),c.fediact_hidemuted=$("input#hidemuted").is(":checked"),c.fediact_runifloggedin=$("input#runifloggedin").is(":checked"),c.fediact_showtoot=$("input#showtoot").is(":checked");try{await(browser||chrome).storage.local.set(c)}catch{return d(e),!1}$("span#indicator").show(),setTimeout(function(){$("span#indicator").hide()},1500)}$(document).ready(function(){$("input#homeinstance").val(c.fediact_homeinstance),$("textarea#blacklist_content").val(c.fediact_blacklist),$("textarea#whitelist_content").val(c.fediact_whitelist),$("select#mode").val(c.fediact_mode),$("select#target").val(c.fediact_target),$("input#alert").prop("checked",c.fediact_alert),$("input#autoaction").prop("checked",c.fediact_autoaction),$("input#showfollows").prop("checked",c.fediact_showfollows),$("input#redirects").prop("checked",c.fediact_redirects),$("input#delay").prop("checked",c.fediact_enabledelay),$("input#hidemuted").prop("checked",c.fediact_hidemuted),$("input#runifloggedin").prop("checked",c.fediact_runifloggedin),$("input#showtoot").prop("checked",c.fediact_showtoot),("whitelist"==$("select#mode").val()?$("div#whitelist_input"):$("div#blacklist_input")).show(),$("select#mode").change(function(){("whitelist"==$("select#mode").val()?($("div#blacklist_input").hide(),$("div#whitelist_input")):($("div#whitelist_input").hide(),$("div#blacklist_input"))).show()}),$("form#fediact-settings").on("submit",async function(t){t.preventDefault(),i();try{await chrome.runtime.sendMessage({updatedsettings:!0})}catch(t){d(t)}})})}async function o(){try{c=await(browser||chrome).storage.local.get(t)}catch(t){return d(t),!1}c&&n()}o();